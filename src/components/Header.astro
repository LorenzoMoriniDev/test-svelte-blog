---
// src/components/Header.astro
---
<header>
  <div class="header-container">
    <a href={`${import.meta.env.BASE_URL}/`} class="logo">Il Mio Logo</a>
    
    <button class="hamburger-menu" id="hamburger-button" aria-label="Apri menu" aria-expanded="false">
      <span class="hamburger-line"></span>
      <span class="hamburger-line"></span>
      <span class="hamburger-line"></span>
    </button>

    <nav id="main-nav">
      <a href={`${import.meta.env.BASE_URL}/`}>Home</a>
      <a href={`${import.meta.env.BASE_URL}/chi-sono/`}>Chi Sono</a>
      <a href="#treatments">Trattamenti</a>
      <a href="#contact">Contatti</a>
      <!-- Bottone CTA spostato qui dentro -->
      <a href="#contact" class="cta-button">Prenota</a>
    </nav>
  </div>
</header>

<script>
  const hamburgerButton = document.getElementById('hamburger-button');
  const mainNav = document.getElementById('main-nav');
  const navLinks = mainNav.querySelectorAll('a');

  function toggleMenu() {
    const isExpanded = hamburgerButton.getAttribute('aria-expanded') === 'true';
    hamburgerButton.setAttribute('aria-expanded', String(!isExpanded));
    mainNav.classList.toggle('is-open');
    document.body.classList.toggle('no-scroll'); // Blocca lo scroll del body
  }

  hamburgerButton.addEventListener('click', toggleMenu);

  navLinks.forEach(link => {
    link.addEventListener('click', () => {
      if (mainNav.classList.contains('is-open')) {
        toggleMenu();
      }
    });
  });
</script>
