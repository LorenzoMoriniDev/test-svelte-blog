/* src/styles/global.css */

/* --- 1. VARIABLES & BASE STYLES --- */
:root {
  --color-primary: #0d5d5b;
  --color-accent: #158481;
  --color-text-primary: #212529;
  --color-text-secondary: #6c757d;
  --color-background: #ffffff;
  --color-bg-section: #f8f9fa;
  --color-border: #dee2e6;
  --header-height: 85px; 
}

/* Reset & Global Font */
body, h1, h2, h3, p, ul, li, a, button {
  margin: 0; padding: 0;
  font-family: 'Lato', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
  line-height: 1.7; box-sizing: border-box;
}

body {
  background-color: var(--color-background); color: var(--color-text-primary);
  font-size: 16px; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale;
  padding-top: var(--header-height);
}

/* --- 1a. SCROLLBAR HANDLING --- */
@media (pointer: fine) {
  html {
    overflow-y: scroll;
  }
}
*{scrollbar-width:thin;scrollbar-color:var(--color-primary)transparent}
::-webkit-scrollbar{width:12px}
::-webkit-scrollbar-track{background:transparent}
::-webkit-scrollbar-thumb{background:var(--color-primary);border-radius:20px;border:3pxsolidtransparent}
::-webkit-scrollbar-thumb:hover{background:var(--color-accent)}

/* --- 2. LAYOUT & CONTAINERS --- */
.container { max-width: 1100px; margin: 0 auto; padding: 0 1.5rem; }
section { padding: 5rem 0; border-bottom: 1px solid var(--color-border); }
section:last-of-type { border-bottom: none; }
.bg-light { background-color: var(--color-bg-section); }

/* --- 3. TYPOGRAPHY --- */
h1, h2, h3 { font-weight: 700; line-height: 1.3; }
h2 { font-size: 2.25rem; margin-bottom: 1rem; text-align: center; color: var(--color-primary); }
.section-subtitle { text-align: center; font-size: 1.1rem; color: var(--color-text-secondary); max-width: 600px; margin: 0 auto 3.5rem auto; }
h3 { font-size: 1.3rem; color: var(--color-text-primary); margin-bottom: 1.5rem; }
p { margin-bottom: 1rem; }
a { color: var(--color-primary); text-decoration: none; transition: color 0.3s ease; }
a:hover { color: var(--color-accent); }

/* --- 4. HEADER & MOBILE-FIRST NAVIGATION --- */
header {
  background-color: var(--color-background);
  border-bottom: 1px solid var(--color-border);
  position: sticky; top: 0; z-index: 1000; width: 100%;
}
.header-container {
  display: flex; justify-content: space-between; align-items: center;
  padding: 1rem 2rem; max-width: 1200px; margin: 0 auto;
}
.logo { font-weight: bold; font-size: 1.5rem; color: var(--color-text-primary); text-decoration: none; position: relative; z-index: 1001; }
.cta-button {
  background-color: var(--color-primary); color: white !important; border: none;
  padding: 0.75rem 1.5rem; border-radius: 8px; cursor: pointer;
  font-weight: bold; text-decoration: none; transition: background-color 0.3s ease;
  border-bottom: none !important;
}
.cta-button:hover { background-color: var(--color-accent); border-bottom-color: transparent !important; }

/* STILI MOBILE DI DEFAULT */
.hamburger-menu {
  display: flex;
  flex-direction: column; justify-content: space-around;
  width: 2rem; height: 2rem; background: transparent; border: none;
  cursor: pointer; padding: 0; position: relative; z-index: 1001;
}
.hamburger-line {
  width: 2rem; height: 3px; background-color: var(--color-text-primary);
  border-radius: 10px; transition: all 0.3s linear;
}

header nav {
  /* Stile OVERLAY di default */
  position: fixed; top: 0; left: 0;
  width: 100%; height: 100%;
  background-color: rgba(248, 249, 250, 0.95);
  backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px);
  display: flex; flex-direction: column;
  justify-content: center; align-items: center;
  gap: 2.5rem;
  opacity: 0; visibility: hidden; /* NASCOSTO DI DEFAULT */
  /* 
    >>> CHANGE #1 of 2: The 'transition' property has been REMOVED from the base rule.
    This is the key change that prevents the menu from briefly appearing when you resize 
    the window from desktop to mobile, as it no longer tries to animate the opacity change.
  */
  z-index: 1000;
}
header nav.is-open {
  opacity: 1; visibility: visible;
}
header nav a {
  font-size: 1.5rem;
}

/* Animazione "X" per l'hamburger */
.hamburger-menu[aria-expanded="true"] .hamburger-line:nth-child(1) { transform: rotate(45deg) translate(8px, 8px); }
.hamburger-menu[aria-expanded="true"] .hamburger-line:nth-child(2) { opacity: 0; }
.hamburger-menu[aria-expanded="true"] .hamburger-line:nth-child(3) { transform: rotate(-45deg) translate(7px, -7px); }

/* --- 4a. DESKTOP NAVIGATION STYLES --- */
@media (min-width: 993px) {
  .hamburger-menu {
    display: none;
  }

  header nav {
    position: static;
    width: auto; height: auto;
    background-color: transparent;
    backdrop-filter: none;
    flex-direction: row;
    justify-content: flex-end;
    gap: 2rem;
    opacity: 1; visibility: visible;
    transition: none; /* Explicitly remove any transition on desktop */
  }
  header nav a {
    font-size: 1rem;
    font-weight: 700;
    padding-bottom: 5px;
    border-bottom: 2px solid transparent;
    transition: color 0.3s ease, border-bottom-color 0.3s ease;
  }
  header nav a:hover {
    color: var(--color-primary);
    border-bottom-color: var(--color-primary);
  }
}

/* 
  >>> CHANGE #2 of 2: A new media query is added for screens BELOW the desktop breakpoint.
  This block applies the smooth transition ONLY on viewports where the hamburger menu 
  is present. This makes the animation smoother and ensures it doesn't interfere with
  the desktop styles during a resize. I've used a cubic-bezier function for a more
  professional feel.
*/
@media (max-width: 992px) {
  header nav {
    transition: opacity 0.35s cubic-bezier(0.4, 0, 0.2, 1), visibility 0.35s cubic-bezier(0.4, 0, 0.2, 1);
  }
}


/* --- 5. HERO SECTION --- */
.hero-container {
  display: flex; flex-direction: column; justify-content: center; align-items: center;
  min-height: 80vh; text-align: center; padding: 4rem 1.5rem;
  background-color: var(--color-bg-section); border-bottom: 1px solid var(--color-border); position: relative;
}
.hero-content { max-width: 800px; }
.hero-content h1 { font-size: 2.8rem; color: var(--color-primary); margin-bottom: 1.5rem; font-weight: 700; }
.hero-subtitle { font-size: 1.2rem; color: var(--color-text-primary); line-height: 1.8; }
.scroll-indicator { position: absolute; bottom: 30px; font-size: 2rem; }
.scroll-indicator a { color: var(--color-text-secondary); animation: bounce 2s infinite; }
@keyframes bounce { 0%, 20%, 50%, 80%, 100% { transform: translateY(0); } 40% { transform: translateY(-15px); } 60% { transform: translateY(-5px); } }
@media (max-width: 768px) { .hero-content h1 { font-size: 2.2rem; } .hero-subtitle { font-size: 1.1rem; } }

/* --- 6. CONTENT CARDS (FOR PATHOLOGIES & TREATMENTS) --- */
.content-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem; }
.card { background-color: var(--color-background); border: 1px solid var(--color-border); border-radius: 8px; padding: 2rem; transition: box-shadow 0.3s ease, transform 0.3s ease; }
.card:hover { transform: translateY(-5px); box-shadow: 0 8px 20px rgba(0, 0, 0, 0.07); }
.card ul { list-style-type: none; padding: 0; }
.card li { position: relative; padding-left: 25px; margin-bottom: 0.75rem; color: var(--color-text-secondary); }
.card li:last-child { margin-bottom: 0; }
.card li::before { content: 'âœ“'; position: absolute; left: 0; top: 1px; color: var(--color-primary); font-weight: bold; }

/* --- 7. CONTACT SECTION --- */
.contact-layout { display: grid; grid-template-columns: 1fr 1fr; gap: 3rem; align-items: flex-start; margin-top: 2rem; }
.contact-details h3 { border-bottom: 2px solid var(--color-primary); padding-bottom: 0.5rem; display: inline-block; margin-bottom: 2rem; }
.contact-details p { font-size: 1.1rem; margin-bottom: 1.5rem; }
.contact-details p strong { color: var(--color-text-primary); display: block; font-weight: 700; margin-bottom: 0.25rem; }
.contact-details p span, .contact-details p a { color: var(--color-text-secondary); }
.map-placeholder { width: 100%; height: 400px; background-color: #e9ecef; border: 1px solid var(--color-border); border-radius: 8px; display: flex; justify-content: center; align-items: center; color: var(--color-text-secondary); }
@media (max-width: 768px) { .contact-layout { grid-template-columns: 1fr; } }

/* --- 8. FOOTER --- */
footer { background-color: #212529; color: #ced4da; padding: 4rem 1.5rem; border-top: 1px solid var(--color-border); }
.footer-content { max-width: 800px; margin: 0 auto; text-align: center; }
.footer-contact p { margin-bottom: 0.75rem; }
.footer-contact strong { color: #f8f9fa; }
footer a { color: #f8f9fa; text-decoration: none; }
footer a:hover { text-decoration: underline; }
footer hr { border: 0; border-top: 1px solid #495057; margin: 2rem auto; width: 50%; }
.footer-social { margin-bottom: 1rem; }
.footer-legal { font-size: 0.9rem; color: var(--color-text-secondary); }
.footer-legal a { color: var(--color-text-secondary); margin: 0 0.5rem; }
.footer-legal a:hover { color: #f8f9fa; }
.footer-legal p { margin-top: 1rem; }

/* --- 9. UTILITY CLASSES --- */
.no-scroll { overflow: hidden; }
